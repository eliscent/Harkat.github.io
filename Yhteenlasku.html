<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <title>Yhteenlaskutesti</title>
  <link rel="stylesheet" href="style.css" />
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <nav class="navbar navbar-dark sticky-top">
         <div class="container-fluid">
            <a class="navbar-brand" href="index.html">Harjoitustehtävät</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Valikko">
               <span class="navbar-toggler-icon"></span>
            </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Etusivu</a></li>
          <li class="nav-item"><a class="nav-link" href="adjektiivit.html">Adjektiivit</a></li>
          <li class="nav-item"><a class="nav-link" href="verbit.html">Verbit</a></li>
          <li class="nav-item"><a class="nav-link" href="kaupungit.html">Kaupungit</a></li>
          <li class="nav-item"><a class="nav-link" href="kertolaskut.html">Kertolaskut</a></li>
          <li class="nav-item"><a class="nav-link" href="kertolaskut2.html">Kertolaskut 2</a></li>
          <li class="nav-item"><a class="nav-link" href="laskut.html">Laskut</a></li>
          <li class="nav-item"><a class="nav-link" href="Yhteenlasku.html">Yhteenlaskut</a></li>
          <li class="nav-item"><a class="nav-link" href="weather.html">Sää</a></li>
        </ul>
      </div>
         </div>
      </nav>

  <h1>Yhteenlaskutesti</h1>

  
  <div id="quiz"></div>

  <!-- Nappula millä lähetetään vastaukset ja painamalla toista nappia testin voi tehdä uusiksi -->
  <button onclick="submitAnswers()">Lähetä vastaukset</button>
  <button onclick="location.reload()">Uusi testi</button>

  <!-- Tänne näytetään lopputulos kautta kuinka monta 10:stä sait oikein -->
  <div id="result" class="result"></div>

  <script>
    const numQuestions = 10;  // Kysymysten määrä
    const questions = [];     // Tallennetaan jokainen kysymys tähän taulukkoon

    // Palauttaa satunnaisen kokonaisluvun väliltä min, max mathrandpmilla.
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // Luo kysymykset ja lisää ne sivulle
    function createQuiz() {
      const quizContainer = document.getElementById("quiz");
      quizContainer.innerHTML = ""; // Tyhjennetään edellinen sisältö ja arpoo uudet laskettavat luvut testiin jotta testin voi tehdä uudestaan

      for (let i = 0; i < numQuestions; i++) {
        const a = getRandomInt(1, 100); // Ensimmäinen luku arpoo 1-100
        const b = getRandomInt(1, 100); // Toinen luku arpoo 1-100

        // Tallennetaan tiedot taulukkoon suoraan indeksillä
        questions[i] = {
          a: a,
          b: b,
          answer: a + b
        };

        // Luodaan käyttäjälle kysymykset
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `
          ${i + 1}. Mikä on ${a} + ${b}?
          <input type="number" id="answer-${i}" />
        `;

        quizContainer.appendChild(div); 
      }
    }

    // Tarkistetaan käyttäjän vastaukset
    function submitAnswers() {
      let correct = 0; // Lasketaan oikeiden vastausten määrä niitä voi olla maksimissaan kymmenen

      for (let i = 0; i < numQuestions; i++) {
        const input = document.getElementById(`answer-${i}`);
        const userAnswer = parseInt(input.value, 10);

        // Tarkistetaan, onko vastaus oikein 
        if (userAnswer === questions[i].answer) {
          correct++;
        }
      }

      // Näytetään lopputulos
      document.getElementById("result").textContent = `Sait ${correct} / ${numQuestions} oikein.`;
    }

    // Kun sivu latautuu, luodaan heti kysymykset
    createQuiz();
  </script>
<!--Lähteet: W3schools, Viope, kurssidiat, debuggaukseen käytettiin tekoälyä-->
</body>
</html>
    